define("local_ibob/userbadgedisplayer",["exports","jquery","core/modal","core/modal_events","core/templates","core/ajax","core/str"],(function(_exports,_jquery,_modal,_modal_events,_templates,_ajax,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.getDetailBadge=void 0,_jquery=_interopRequireDefault(_jquery),_modal=_interopRequireDefault(_modal),_modal_events=_interopRequireDefault(_modal_events),_templates=_interopRequireDefault(_templates);_exports.init=()=>{getDetailBadge()};const getDetailBadge=()=>{(0,_jquery.default)(".ibob-badge").on("click",(async function(){let badgeid=(0,_jquery.default)(this).data("id");const response=await detailBadgeModal(badgeid),data=JSON.parse(response);displayBadgeDetails(data)}))};_exports.getDetailBadge=getDetailBadge;const detailBadgeModal=badgeid=>(0,_ajax.call)([{methodname:"local_ibob_detail_badge_function",args:{badgeid:badgeid}}])[0],displayBadgeDetails=data=>{let modalTitle=(0,_str.get_string)("modalBadgeDetail","local_ibob"),trigger=(0,_jquery.default)("#badge_"+data.id);return _modal.default.create({title:modalTitle,body:_templates.default.render("local_ibob/userbadgedisplayer",data)},trigger).then((function(modal){return 0==modal.countOtherVisibleModals()&&modal.getRoot().on(_modal_events.default.hidden,(function(){modal.destroy()})),modal.show(),modal.getRoot().removeClass("hide").addClass("show"),!0}))}}));

//# sourceMappingURL=userbadgedisplayer.min.js.map