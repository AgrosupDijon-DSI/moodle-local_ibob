{"version":3,"file":"userbadgedisplayer.min.js","sources":["../src/userbadgedisplayer.js"],"sourcesContent":["define([\n    'jquery',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/templates',\n    'core/ajax',\n], function(\n    $,\n    ModalFactory,\n    ModalEvents,\n    templates,\n    ajax,\n) {\n    return {\n        init: function() {\n            $(\".ibob-badge\").on(\"click\", function() {\n                let elem = $(this);\n                let promises =\n                    ajax.call([{\n                        methodname: 'local_ibob_detail_badge_function',\n                        args: {badgeid: elem.data(\"id\")},}\n                    ]);\n                promises[0].done(function(response) {\n                    returnfunc(JSON.parse(response));\n                });\n                /**\n                 * Return function.\n                 * @param {string} returnjson JSON returned.\n                 * @returns {string} The sum of the two numbers.\n                 */\n                function returnfunc(returnjson) {\n                    let modalTitle = 'DÃ©tail du badge';\n                    let trigger = $('#badge_' + returnjson.id);\n                    ModalFactory.create({\n                        title: modalTitle,\n                        body: templates.render('local_ibob/userbadgedisplayer', returnjson),\n                    }, trigger)\n                         .done(function(modal) {\n                             if (modal.countOtherVisibleModals() == 0) {\n                                 modal.getRoot().on(ModalEvents.hidden, function() {\n                                        modal.destroy();\n                                     }\n                                 );\n                             }\n                             modal.show();\n                             modal.getRoot().removeClass('hide').addClass('show');\n                        });\n                }\n            });\n        }\n    };\n});\n"],"names":["define","$","ModalFactory","ModalEvents","templates","ajax","init","on","elem","this","call","methodname","args","badgeid","data","done","response","returnjson","modalTitle","trigger","id","create","title","body","render","modal","countOtherVisibleModals","getRoot","hidden","destroy","show","removeClass","addClass","returnfunc","JSON","parse"],"mappings":"AAAAA,uCAAO,CACH,SACA,qBACA,oBACA,iBACA,cACD,SACCC,EACAC,aACAC,YACAC,UACAC,YAEO,CACHC,KAAM,WACFL,EAAE,eAAeM,GAAG,SAAS,eACrBC,KAAOP,EAAEQ,MAETJ,KAAKK,KAAK,CAAC,CACPC,WAAY,mCACZC,KAAM,CAACC,QAASL,KAAKM,KAAK,UAEzB,GAAGC,MAAK,SAASC,oBAQNC,gBACZC,WAAa,kBACbC,QAAUlB,EAAE,UAAYgB,WAAWG,IACvClB,aAAamB,OAAO,CAChBC,MAAOJ,WACPK,KAAMnB,UAAUoB,OAAO,gCAAiCP,aACzDE,SACGJ,MAAK,SAASU,OAC4B,GAAnCA,MAAMC,2BACND,MAAME,UAAUpB,GAAGJ,YAAYyB,QAAQ,WAChCH,MAAMI,aAIjBJ,MAAMK,OACNL,MAAME,UAAUI,YAAY,QAAQC,SAAS,WAtBtDC,CAAWC,KAAKC,MAAMnB"}